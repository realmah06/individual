<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M A Mujaheed Global Enterprises</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Host+Grotesk:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            font-family: "Roboto", serif;
            font-style: normal;
        }
        body {
            background-color: #f7f7f7;
        }
        .form-container {
            margin: 20px 30px;
            padding: 20px 30px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .form-group {
            margin: 10px;
            display: inline-block;
            width: 48%;
        }
        .form-group label {
            display: block;
            color: darkred;
            font-size: 14px;
        }
        .form-group input, .form-group select {
            padding: 8px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            outline: none;
            width: 100%;
        }
        .form-group .btn {
            padding: 8px;
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-weight: bold;
            margin-top: 10px;
        }
        .post {
            background-color: darkblue;
            color: #fff;
        }
        .discard {
            background-color: darkred;
            color: #fff;
        }
        .table-container {
            margin-top: 20px;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: center;
        }
        th {
            background-color: #f1f1f1;
            color: #333;
        }
        .btn-table {
            padding: 5px 10px;
            background-color: green;
            color: white;
            border: none;
            cursor: pointer;
        }
        .btn-table.delete {
            background-color: red;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h2>Invoice Form</h2>
        <form id="invoice_form">
            <div class="form-group">
                <label for="date">Date*</label>
                <input type="date" name="date" id="date" required>
            </div>
            <div class="form-group">
                <label for="receipt-no">Waybill No*</label>
                <input type="text" name="receipt-no" id="receipt-no" placeholder="Waybill Number" readonly>
            </div>
            <div class="form-group">
                <label for="customer-name">Customer Name*</label>
                <input type="text" name="customer-name" id="customer-name" placeholder="Customer Name..." required>
            </div>
            <div class="form-group">
                <label for="customer-address">Customer Address*</label>
                <input type="text" name="customer-address" id="customer-address" placeholder="Customer Address..." required>
            </div>
            <div class="form-group">
                <label for="truck-number">Truck No*</label>
                <input type="text" name="truck-number" id="truck-number" placeholder="Truck Number..." required>
            </div>
            <div class="form-group">
                <label for="driver-phone">Driver Phone*</label>
                <input type="tel" name="driver-phone" id="driver-phone" placeholder="Driver Phone..." required>
            </div>
            <div class="form-group">
                <label for="product">Product*</label>
                <select name="product" id="product" required>
                    <option value=""> -- Select Product!... -- </option>
                    <option value="Maize"> Maize </option>
                    <option value="Rice"> Rice </option>
                    <option value="Soya Beans"> Soya Beans </option>
                </select>
            </div>
            <div class="form-group">
                <label for="bags-quantity">Bags Quantity*</label>
                <input type="number" name="bags-quantity" id="bags-quantity" placeholder="Bags Quantity..." required>
            </div>
            <div class="form-group">
                <label for="weight">Weight (Kg)*</label>
                <input type="number" name="weight" id="weight" placeholder="Weight (Kg)..." required>
            </div>
            <div class="form-group">
                <label for="company-price">Company Price*</label>
                <input type="number" name="company-price" id="company-price" placeholder="Company Price..." required>
            </div>
            <div class="form-group">
                <label for="total">Total*</label>
                <input type="text" name="total" id="total" placeholder="Weight * Company Price..." readonly>
            </div>
            <div class="form-group">
                <label for="bank">Payment Bank</label>
                <select name="bank" id="bank">
                    <option value=""> -- Select Payment Bank -- </option>
                    <option value="Access Bank">Access Bank</option>
                    <option value="Citibank Nigeria">Citibank Nigeria</option>
                    <option value="Ecobank Nigeria">Ecobank Nigeria</option>
                    <option value="Fidelity Bank">Fidelity Bank</option>
                    <option value="First Bank of Nigeria">First Bank of Nigeria</option>
                    <option value="First City Monument Bank">First City Monument Bank</option>
                    <option value="Globus Bank">Globus Bank</option>
                    <option value="Guaranty Trust Bank">Guaranty Trust Bank</option>
                    <option value="Heritage Bank">Heritage Bank</option>
                    <option value="Keystone Bank">Keystone Bank</option>
                    <option value="Polaris Bank">Polaris Bank</option>
                    <option value="Providus Bank">Providus Bank</option>
                    <option value="Stanbic IBTC Bank">Stanbic IBTC Bank</option>
                    <option value="Standard Chartered Bank">Standard Chartered Bank</option>
                    <option value="Sterling Bank">Sterling Bank</option>
                    <option value="SunTrust Bank">SunTrust Bank</option>
                    <option value="Union Bank of Nigeria">Union Bank of Nigeria</option>
                    <option value="United Bank for Africa">United Bank for Africa</option>
                    <option value="Unity Bank">Unity Bank</option>
                    <option value="Wema Bank">Wema Bank</option>
                    <option value="Zenith Bank">Zenith Bank</option>
                </select>
            </div>
            <button type="submit" class="btn post">Submit</button>
        </form>
    </div>

    <div class="table-container">
        <h2>Invoices</h2>
        <table id="invoice-table">
            <thead>
                <tr>
                    <th>Waybill No</th>
                    <th>Customer Name</th>
                    <th>Product</th>
                    <th>Bags Quantity</th>
                    <th>Weight</th>
                    <th>Company Price</th>
                    <th>Total</th>
                    <th>Payment Bank</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be dynamically inserted here -->
            </tbody>
        </table>
    </div>

    <script>
        // Function to save form data to localStorage
        function saveFormData() {
            const formData = {
                date: document.getElementById('date').value,
                receiptNo: document.getElementById('receipt-no').value,
                customerName: document.getElementById('customer-name').value,
                customerAddress: document.getElementById('customer-address').value,
                truckNumber: document.getElementById('truck-number').value,
                driverPhone: document.getElementById('driver-phone').value,
                product: document.getElementById('product').value,
                bagsQuantity: document.getElementById('bags-quantity').value,
                weight: document.getElementById('weight').value,
                companyPrice: document.getElementById('company-price').value,
                total: document.getElementById('total').value,
                bank: document.getElementById('bank').value
            };
            localStorage.setItem('formData', JSON.stringify(formData));
        }

        // Function to load form data from localStorage
        function loadFormData() {
            const formData = JSON.parse(localStorage.getItem('formData'));
            if (formData) {
                document.getElementById('date').value = formData.date;
                document.getElementById('receipt-no').value = formData.receiptNo;
                document.getElementById('customer-name').value = formData.customerName;
                document.getElementById('customer-address').value = formData.customerAddress;
                document.getElementById('truck-number').value = formData.truckNumber;
                document.getElementById('driver-phone').value = formData.driverPhone;
                document.getElementById('product').value = formData.product;
                document.getElementById('bags-quantity').value = formData.bagsQuantity;
                document.getElementById('weight').value = formData.weight;
                document.getElementById('company-price').value = formData.companyPrice;
                document.getElementById('total').value = formData.total;
                document.getElementById('bank').value = formData.bank;
            }
        }

        // Function to handle the form submission
        document.getElementById('invoice_form').addEventListener('submit', function(event) {
            event.preventDefault();

            // SweetAlert confirmation
            Swal.fire({
                title: 'Are you sure?',
                text: "You are about to submit this form",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, submit it!'
            }).then((result) => {
                if (result.isConfirmed) {
                    saveFormData();
                    Swal.fire('Submitted!', 'Your form has been submitted.', 'success');
                    addRowToTable();
                }
            });
        });

        // Function to add a row to the table
        function addRowToTable() {
            const table = document.getElementById('invoice-table').getElementsByTagName('tbody')[0];
            const row = table.insertRow();

            row.insertCell(0).textContent = document.getElementById('receipt-no').value;
            row.insertCell(1).textContent = document.getElementById('customer-name').value;
            row.insertCell(2).textContent = document.getElementById('product').value;
            row.insertCell(3).textContent = document.getElementById('bags-quantity').value;
            row.insertCell(4).textContent = document.getElementById('weight').value;
            row.insertCell(5).textContent = document.getElementById('company-price').value;
            row.insertCell(6).textContent = document.getElementById('total').value;
            row.insertCell(7).textContent = document.getElementById('bank').value;
            const actionsCell = row.insertCell(8);

            const deleteButton = document.createElement('button');
            deleteButton.textContent = 'Delete';
            deleteButton.classList.add('btn-table', 'delete');
            deleteButton.addEventListener('click', () => deleteRow(row));
            actionsCell.appendChild(deleteButton);
        }

        // Function to delete a row from the table
        function deleteRow(row) {
            row.remove();
        }

        // Load saved form data when the page loads
        window.onload = loadFormData;
    </script>
</body>
</html>
